(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{eZg0:function(t,e,a){"use strict";a.r(e),a.d(e,"ContactmanagerModule",function(){return at});var n=a("ofXK"),r=a("fXoL"),c=a("NFeN"),i=a("jhN1"),s=a("XhcP"),o=a("0MNC"),b=a("2Vo4"),l=a("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.dataStore={users:[]},this._users=new b.a([])}addUser(t){return new Promise((e,a)=>{t.id=this.dataStore.users.length+1,this.dataStore.users.push(t),this._users.next(Object.assign({},this.dataStore).users),e(t)})}userById(t){return this.dataStore.users.find(e=>e.id==t)}get users(){return this._users.asObservable()}loadAll(){return this.http.get("https://angular-material-api.azurewebsites.net/users").subscribe(t=>{this.dataStore.users=t,this._users.next(Object.assign({},this.dataStore).users)},t=>{console.log("failed to get Users")})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=a("tyNb"),m=a("/t3+"),p=a("MutI"),g=a("3Pt+");class f{constructor(){this.notes=[]}}var h=a("0IaG"),S=a("kmnG"),v=a("d3UM"),C=a("qFsG"),T=a("iadO"),w=a("bTqV"),O=a("FKr1");function M(t,e){if(1&t&&(r.Tb(0,"mat-option",13),r.Ob(1,"mat-icon",4),r.Ac(2),r.Sb()),2&t){const t=e.$implicit;r.lc("value",t),r.Cb(1),r.mc("svgIcon",t),r.Cb(1),r.Cc("",t," ")}}function y(t,e){if(1&t&&(r.Tb(0,"mat-error"),r.Ac(1),r.Sb()),2&t){const t=r.fc();r.Cb(1),r.Bc(t.getErrorMessage())}}let A=(()=>{class t{constructor(t,e){this.dialogRef=t,this.userService=e,this.name=new g.d("",[g.p.required]),this.avatars=["svg-1","svg-2","svg-3","svg-4"]}getErrorMessage(){return this.name.hasError("required")||this.name.hasError("required")?"You must enter a value":""}ngOnInit(){this.user=new f}save(){this.user.name=this.name.value,this.name.hasError("required")?this.dialogRef.close(null):this.userService.addUser(this.user).then(t=>this.dialogRef.close(this.user))}dismiss(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h.e),r.Nb(u))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-new-contact-dialog"]],decls:36,vars:11,consts:[["mat-dialog-title",""],[1,"dialog"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"svgIcon"],[3,"value",4,"ngFor","ngForOf"],["matInput","","required","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","",3,"ngModel","ngModelChange"],["mat-button","","color","primary",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(r.Tb(0,"h2",0),r.Ac(1,"Add new contact"),r.Sb(),r.Tb(2,"mat-dialog-content",1),r.Tb(3,"mat-form-field",2),r.Tb(4,"mat-label"),r.Ac(5,"Avatar"),r.Sb(),r.Tb(6,"mat-select",3),r.bc("ngModelChange",function(t){return e.user.avatar=t}),r.Tb(7,"mat-select-trigger"),r.Ob(8,"mat-icon",4),r.Ac(9),r.Sb(),r.zc(10,M,3,3,"mat-option",5),r.Sb(),r.Sb(),r.Tb(11,"mat-form-field",2),r.Tb(12,"mat-label"),r.Ac(13,"Name"),r.Sb(),r.Tb(14,"input",6),r.bc("ngModelChange",function(t){return e.user.name=t}),r.Sb(),r.zc(15,y,2,1,"mat-error",7),r.Sb(),r.Tb(16,"mat-form-field",2),r.Tb(17,"mat-label"),r.Ac(18,"Born"),r.Sb(),r.Tb(19,"input",8),r.bc("ngModelChange",function(t){return e.user.birthDate=t}),r.Sb(),r.Ob(20,"mat-datepicker-toggle",9),r.Ob(21,"mat-datepicker",null,10),r.Sb(),r.Tb(23,"mat-form-field",2),r.Tb(24,"mat-label"),r.Ac(25,"Bio"),r.Sb(),r.Tb(26,"textarea",11),r.bc("ngModelChange",function(t){return e.user.bio=t}),r.Sb(),r.Sb(),r.Sb(),r.Tb(27,"mat-dialog-actions"),r.Tb(28,"button",12),r.bc("click",function(){return e.save()}),r.Tb(29,"mat-icon"),r.Ac(30,"save"),r.Sb(),r.Ac(31," Save\n"),r.Sb(),r.Tb(32,"button",12),r.bc("click",function(){return e.dismiss()}),r.Tb(33,"mat-icon"),r.Ac(34,"cancel"),r.Sb(),r.Ac(35," Cancel\n"),r.Sb(),r.Sb()),2&t){const t=r.rc(22);r.Cb(6),r.lc("ngModel",e.user.avatar),r.Cb(2),r.mc("svgIcon",e.user.avatar),r.Cb(1),r.Cc("",e.user.avatar," "),r.Cb(1),r.lc("ngForOf",e.avatars),r.Cb(4),r.lc("ngModel",e.user.name)("formControl",e.name),r.Cb(1),r.lc("ngIf",e.name.invalid),r.Cb(4),r.lc("matDatepicker",t)("ngModel",e.user.birthDate),r.Cb(1),r.lc("for",t),r.Cb(6),r.lc("ngModel",e.user.bio)}},directives:[h.f,h.c,S.c,S.f,v.a,g.k,g.m,v.c,c.a,n.k,C.b,g.c,g.o,g.e,n.l,T.b,T.d,S.g,T.a,h.b,w.a,O.m,S.b],styles:[".dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.dialog[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]}),t})();var I=a("STbY");let k=(()=>{class t{constructor(t){this.dialog=t,this.toggleSidenav=new r.o}ngOnInit(){}openAddContactDialog(){this.dialog.open(A,{width:"450px"}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(h.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-toolbar"]],outputs:{toggleSidenav:"toggleSidenav"},decls:14,vars:1,consts:[["color","primary"],["mat-button","",1,"sidenav-toggle",3,"click"],[1,"example-spacer"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(r.Tb(0,"mat-toolbar",0),r.Tb(1,"button",1),r.bc("click",function(){return e.toggleSidenav.emit()}),r.Tb(2,"mat-icon"),r.Ac(3,"menu"),r.Sb(),r.Sb(),r.Tb(4,"span"),r.Ac(5,"Contact Manager"),r.Sb(),r.Ob(6,"span",2),r.Tb(7,"button",3),r.Tb(8,"mat-icon"),r.Ac(9,"more_vert"),r.Sb(),r.Sb(),r.Tb(10,"mat-menu",null,4),r.Tb(12,"button",5),r.bc("click",function(){return e.openAddContactDialog()}),r.Ac(13,"New Contact"),r.Sb(),r.Sb(),r.Sb()),2&t){const t=r.rc(11);r.Cb(7),r.lc("matMenuTriggerFor",t)}},directives:[m.a,w.a,c.a,I.d,I.a,I.b],styles:["mat-icon[_ngcontent-%COMP%]{font-size:30px;height:56px;width:56px;line-height:56px}@media (max-width:720px){.sidenav-toggle[_ngcontent-%COMP%]{display:flex}}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();const x=function(t){return["/contactmanager",t]};function D(t,e){if(1&t&&(r.Tb(0,"mat-list-item"),r.Tb(1,"a",8),r.Ob(2,"mat-icon",9),r.Ac(3),r.Sb(),r.Sb()),2&t){const t=e.$implicit;r.Cb(1),r.lc("routerLink",r.oc(3,x,t.id)),r.Cb(1),r.mc("svgIcon",t.avatar),r.Cb(1),r.Cc(" ",t.name,"")}}let z=(()=>{class t{constructor(t,e,a){this.breakpointObserver=t,this.userService=e,this.router=a}ngOnInit(){this.breakpointObserver.observe(["(max-width: 720px)"]).subscribe(t=>{this.isScreenSmall=t.matches}),this.users=this.userService.users,this.userService.loadAll(),this.router.events.subscribe(()=>{this.sidenav.close()})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(o.a),r.Nb(u),r.Nb(d.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-sidenav"]],viewQuery:function(t,e){if(1&t&&r.Dc(s.a,1),2&t){let t;r.qc(t=r.cc())&&(e.sidenav=t.first)}},decls:12,vars:5,consts:[[1,"app-sidenav-container"],[1,"app-sidenav","mat-elevation-z10",3,"opened","mode"],["sidenav",""],["color","primary"],[4,"ngFor","ngForOf"],[1,"app-sidenav-content"],[3,"toggleSidenav"],[1,"wrapper"],["matLine","",3,"routerLink"],[3,"svgIcon"]],template:function(t,e){if(1&t){const t=r.Ub();r.Tb(0,"mat-sidenav-container",0),r.Tb(1,"mat-sidenav",1,2),r.Tb(3,"mat-toolbar",3),r.Ac(4," Contacts "),r.Sb(),r.Tb(5,"mat-nav-list"),r.zc(6,D,4,5,"mat-list-item",4),r.gc(7,"async"),r.Sb(),r.Sb(),r.Tb(8,"div",5),r.Tb(9,"app-toolbar",6),r.bc("toggleSidenav",function(){return r.tc(t),r.rc(2).toggle()}),r.Sb(),r.Tb(10,"div",7),r.Ob(11,"router-outlet"),r.Sb(),r.Sb(),r.Sb()}2&t&&(r.Cb(1),r.lc("opened",!e.isScreenSmall)("mode",e.isScreenSmall?"over":"push"),r.Cb(5),r.lc("ngForOf",r.hc(7,3,e.users)))},directives:[s.b,s.a,m.a,p.c,n.k,k,d.e,p.a,d.c,O.j,c.a],pipes:[n.b],styles:[".app-sidenav-container[_ngcontent-%COMP%]{flex:1;width:100%;min-width:100%;height:100%;min-height:100%}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}.app-sidenav[_ngcontent-%COMP%]{width:300px}.wrapper[_ngcontent-%COMP%]{margin:50px}"]}),t})(),N=(()=>{class t{constructor(t,e){t.addSvgIconSet(e.bypassSecurityTrustResourceUrl("assets/avatars.svg"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(c.c),r.Nb(i.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-contactmanager-app"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"app-sidenav")},directives:[z],encapsulation:2}),t})();var _=a("Xa2L"),F=a("Wp6s"),P=a("wZkO"),R=a("+0xr"),L=a("M9IT"),q=a("Dh3D");function H(t,e){1&t&&(r.Tb(0,"th",13),r.Ac(1," No. "),r.Sb())}function B(t,e){if(1&t&&(r.Tb(0,"td",14),r.Ac(1),r.Sb()),2&t){const t=e.$implicit;r.Cb(1),r.Cc(" ",t.id," ")}}function U(t,e){1&t&&(r.Tb(0,"th",13),r.Ac(1," Title "),r.Sb())}function j(t,e){if(1&t&&(r.Tb(0,"td",14),r.Ac(1),r.Sb()),2&t){const t=e.$implicit;r.Cb(1),r.Cc(" ",t.title," ")}}function E(t,e){1&t&&(r.Tb(0,"th",13),r.Ac(1," Date "),r.Sb())}function Q(t,e){if(1&t&&(r.Tb(0,"td",14),r.Ac(1),r.gc(2,"date"),r.Sb()),2&t){const t=e.$implicit;r.Cb(1),r.Cc(" ",r.ic(2,1,t.date,"yyyy-MM-dd")," ")}}function X(t,e){1&t&&r.Ob(0,"tr",15)}function $(t,e){1&t&&r.Ob(0,"tr",16)}function V(t,e){if(1&t&&(r.Tb(0,"tr",17),r.Tb(1,"td",18),r.Ac(2),r.Sb(),r.Sb()),2&t){r.fc();const t=r.rc(5);r.Cb(2),r.Cc('No data matching the filter "',t.value,'"')}}const G=function(){return[5,10,20]};let J=(()=>{class t{constructor(){this.displayedColumns=["position","title","date"]}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.dataSource=new R.l(this.notes)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-notes"]],viewQuery:function(t,e){if(1&t&&(r.Dc(L.a,1),r.Dc(q.a,1)),2&t){let t;r.qc(t=r.cc())&&(e.paginator=t.first),r.qc(t=r.cc())&&(e.sort=t.first)}},inputs:{notes:"notes"},decls:20,vars:6,consts:[[1,"mat-elevation-z8"],["matInput","","placeholder","search a note",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"mat-form-field"),r.Tb(2,"mat-label"),r.Ac(3,"Filter"),r.Sb(),r.Tb(4,"input",1,2),r.bc("keyup",function(t){return e.applyFilter(t)}),r.Sb(),r.Sb(),r.Tb(6,"table",3),r.Rb(7,4),r.zc(8,H,2,0,"th",5),r.zc(9,B,2,1,"td",6),r.Qb(),r.Rb(10,7),r.zc(11,U,2,0,"th",5),r.zc(12,j,2,1,"td",6),r.Qb(),r.Rb(13,8),r.zc(14,E,2,0,"th",5),r.zc(15,Q,3,4,"td",6),r.Qb(),r.zc(16,X,1,0,"tr",9),r.zc(17,$,1,0,"tr",10),r.zc(18,V,3,1,"tr",11),r.Sb(),r.Ob(19,"mat-paginator",12),r.Sb()),2&t&&(r.Cb(6),r.lc("dataSource",e.dataSource),r.Cb(10),r.lc("matHeaderRowDef",e.displayedColumns),r.Cb(1),r.lc("matRowDefColumns",e.displayedColumns),r.Cb(2),r.lc("pageSize",2)("pageSizeOptions",r.nc(5,G)))},directives:[S.c,S.f,C.b,R.k,q.a,R.c,R.e,R.b,R.g,R.j,R.h,L.a,R.d,q.b,R.a,R.f,R.i],pipes:[n.e],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();function K(t,e){1&t&&(r.Tb(0,"div"),r.Ob(1,"mat-spinner"),r.Sb())}function Y(t,e){if(1&t&&(r.Tb(0,"div"),r.Tb(1,"mat-card"),r.Tb(2,"mat-card-header"),r.Ob(3,"mat-icon",1),r.Tb(4,"mat-card-title"),r.Ac(5),r.Sb(),r.Tb(6,"mat-card-subtitle"),r.Ac(7),r.gc(8,"date"),r.Sb(),r.Sb(),r.Tb(9,"mat-card-content"),r.Tb(10,"mat-tab-group"),r.Tb(11,"mat-tab",2),r.Tb(12,"p"),r.Ac(13),r.Sb(),r.Sb(),r.Tb(14,"mat-tab",3),r.Tb(15,"p"),r.Ob(16,"app-notes",4),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){const t=r.fc();r.Cb(3),r.mc("svgIcon",t.user.avatar),r.Cb(2),r.Cc(" ",t.user.name," "),r.Cb(2),r.Cc("Birthday ",r.ic(8,5,t.user.birthDate,"d LLLL"),""),r.Cb(6),r.Cc(" ",t.user.bio," "),r.Cb(3),r.lc("notes",t.user.notes)}}let Z=(()=>{class t{constructor(t,e){this.route=t,this.service=e}ngOnInit(){this.route.params.subscribe(t=>{let e=t.id;e||(e=1),this.user=null,this.service.users.subscribe(t=>{0!=t.length&&setTimeout(()=>{this.user=this.service.userById(e)},500)})})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(d.a),r.Nb(u))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-main-content"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-card-avatar","",3,"svgIcon"],["label","Bio"],["label","Notes"],[3,"notes"]],template:function(t,e){1&t&&(r.zc(0,K,2,0,"div",0),r.zc(1,Y,17,8,"div",0)),2&t&&(r.lc("ngIf",!e.user),r.Cb(1),r.lc("ngIf",e.user))},directives:[n.l,_.b,F.a,F.d,c.a,F.b,F.g,F.f,F.c,P.b,P.a,J],pipes:[n.e],styles:[""]}),t})();var W=a("5dmV"),tt=a("YUcS");const et=[{path:"",component:N,children:[{path:":id",component:Z},{path:"",component:Z}]}];let at=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[u],imports:[[g.n,n.c,W.a,l.b,g.g,tt.a,d.d.forChild(et)]]}),t})()}}]);